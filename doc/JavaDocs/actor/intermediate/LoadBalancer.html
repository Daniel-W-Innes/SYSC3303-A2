<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
    <!-- Generated by javadoc (15) on Sat Feb 13 12:55:58 EST 2021 -->
    <title>LoadBalancer</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="2021-02-13" name="dc.created">
    <meta content="declaration: package: actor.intermediate, class: LoadBalancer" name="description">
    <meta content="javadoc/ClassWriterImpl" name="generator">
    <link href="../../stylesheet.css" rel="stylesheet" title="Style" type="text/css">
    <link href="../../script-dir/jquery-ui.min.css" rel="stylesheet" title="Style" type="text/css">
    <link href="../../jquery-ui.overrides.css" rel="stylesheet" title="Style" type="text/css">
    <script src="../../script.js" type="text/javascript"></script>
    <script src="../../script-dir/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="../../script-dir/jquery-ui.min.js" type="text/javascript"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0": 10, "i1": 10, "i2": 10};
var tabs = {65535: ["t0", "All Methods"], 2: ["t2", "Instance Methods"], 8: ["t4", "Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
    <header class="flex-header" role="banner">
        <nav role="navigation">
            <!-- ========= START OF TOP NAVBAR ======= -->
            <div class="top-nav" id="navbar.top">
                <div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a>
                </div>
                <ul class="nav-list" id="navbar.top.firstrow" title="Navigation">
                    <li><a href="../../index.html">Overview</a></li>
                    <li><a href="package-summary.html">Package</a></li>
                    <li class="nav-bar-cell1-rev">Class</li>
                    <li><a href="package-tree.html">Tree</a></li>
                    <li><a href="../../deprecated-list.html">Deprecated</a></li>
                    <li><a href="../../index-files/index-1.html">Index</a></li>
                    <li><a href="../../help-doc.html">Help</a></li>
                </ul>
            </div>
            <div class="sub-nav">
                <div>
                    <ul class="sub-nav-list">
                        <li>Summary:&nbsp;</li>
                        <li>Nested&nbsp;|&nbsp;</li>
                        <li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
                        <li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
                        <li><a href="#method.summary">Method</a></li>
                    </ul>
                    <ul class="sub-nav-list">
                        <li>Detail:&nbsp;</li>
                        <li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
                        <li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
                        <li><a href="#method.detail">Method</a></li>
                    </ul>
                </div>
                <div class="nav-list-search"><label for="search">SEARCH:</label>
                    <input disabled="disabled" id="search" type="text" value="search">
                    <input disabled="disabled" id="reset" type="reset" value="reset">
                </div>
            </div>
            <!-- ========= END OF TOP NAVBAR ========= -->
            <span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
    </header>
    <div class="flex-content">
        <main role="main">
            <!-- ======== START OF CLASS DATA ======== -->
            <div class="header">
                <div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a
                        href="package-summary.html">actor.intermediate</a></div>
                <h1 class="title" title="Class LoadBalancer">Class LoadBalancer</h1>
            </div>
            <div class="inheritance" title="Inheritance Tree">java.lang.Object
                <div class="inheritance">actor.intermediate.LoadBalancer</div>
            </div>
            <section class="description">
                <dl class="notes">
                    <dt>All Implemented Interfaces:</dt>
                    <dd><code>java.lang.Runnable</code></dd>
                </dl>
                <hr>
                <pre>public class <span class="type-name-label">LoadBalancer</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
                <div class="block">Round robin load balancer for the intermediate proxy.</div>
            </section>
            <section class="summary">
                <ul class="summary-list">
                    <!-- =========== FIELD SUMMARY =========== -->
                    <li>
                        <section class="field-summary" id="field.summary">
                            <h2>Field Summary</h2>
                            <div class="member-summary">
                                <table class="summary-table">
                                    <caption><span>Fields</span></caption>
                                    <thead>
                                    <tr>
                                        <th class="col-first" scope="col">Modifier and Type</th>
                                        <th class="col-second" scope="col">Field</th>
                                        <th class="col-last" scope="col">Description</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="alt-color">
                                        <td class="col-first"><code>private java.util.Queue&lt;<a href="Backend.html"
                                                                                                  title="class in actor.intermediate">Backend</a>&gt;</code>
                                        </td>
                                        <th class="col-second" scope="row"><code><span class="member-name-link"><a
                                                href="#backends">backends</a></span></code></th>
                                        <td class="col-last">
                                            <div class="block">The queue of backends for the round robin.</div>
                                        </td>
                                    </tr>
                                    <tr class="row-color">
                                        <td class="col-first"><code>private java.util.concurrent.LinkedBlockingQueue&lt;<a
                                                href="../../model/Packet.html"
                                                title="class in model">Packet</a>&gt;</code></td>
                                        <th class="col-second" scope="row"><code><span class="member-name-link"><a
                                                href="#packets">packets</a></span></code></th>
                                        <td class="col-last">
                                            <div class="block">Blocking queue of packets to prevent the frontend from
                                                waiting on the load balancer.
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="alt-color">
                                        <td class="col-first"><code>private boolean</code></td>
                                        <th class="col-second" scope="row"><code><span class="member-name-link"><a
                                                href="#run">run</a></span></code></th>
                                        <td class="col-last">
                                            <div class="block">If the load balancer is running.</div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>
                    </li>
                    <!-- ======== CONSTRUCTOR SUMMARY ======== -->
                    <li>
                        <section class="constructor-summary" id="constructor.summary">
                            <h2>Constructor Summary</h2>
                            <div class="member-summary">
                                <table class="summary-table">
                                    <caption><span>Constructors</span></caption>
                                    <thead>
                                    <tr>
                                        <th class="col-first" scope="col">Constructor</th>
                                        <th class="col-last" scope="col">Description</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="alt-color">
                                        <th class="col-constructor-name" scope="row"><code><span
                                                class="member-name-link"><a href="#%3Cinit%3E(java.util.Set)">LoadBalancer</a></span>&#8203;(java.util.Set&lt;<a
                                                href="Backend.html" title="class in actor.intermediate">Backend</a>&gt;&nbsp;backends)</code>
                                        </th>
                                        <td class="col-last">
                                            <div class="block">Constructor for the load balancer.</div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>
                    </li>
                    <!-- ========== METHOD SUMMARY =========== -->
                    <li>
                        <section class="method-summary" id="method.summary">
                            <h2>Method Summary</h2>
                            <div class="member-summary" id="method-summary-table">
                                <div aria-orientation="horizontal" class="table-tabs" role="tablist">
                                    <button aria-controls="method-summary-table.tabpanel" aria-selected="true"
                                            class="active-table-tab" id="t0"
                                            onkeydown="switchTab(event)" role="tab" tabindex="0">All Methods
                                    </button>
                                    <button aria-controls="method-summary-table.tabpanel" aria-selected="false"
                                            class="table-tab" id="t2"
                                            onclick="show(2);" onkeydown="switchTab(event)" role="tab" tabindex="-1">
                                        Instance Methods
                                    </button>
                                    <button aria-controls="method-summary-table.tabpanel" aria-selected="false"
                                            class="table-tab" id="t4"
                                            onclick="show(8);" onkeydown="switchTab(event)" role="tab" tabindex="-1">
                                        Concrete Methods
                                    </button>
                                </div>
                                <div id="method-summary-table.tabpanel" role="tabpanel">
                                    <table aria-labelledby="t0" class="summary-table">
                                        <thead>
                                        <tr>
                                            <th class="col-first" scope="col">Modifier and Type</th>
                                            <th class="col-second" scope="col">Method</th>
                                            <th class="col-last" scope="col">Description</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="alt-color" id="i0">
                                            <td class="col-first"><code>void</code></td>
                                            <th class="col-second" scope="row"><code><span class="member-name-link"><a
                                                    href="#add(model.Packet)">add</a></span>&#8203;(<a
                                                    href="../../model/Packet.html" title="class in model">Packet</a>&nbsp;packet)</code>
                                            </th>
                                            <td class="col-last">
                                                <div class="block">Add a request to the queue.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-color" id="i1">
                                            <td class="col-first"><code>void</code></td>
                                            <th class="col-second" scope="row"><code><span class="member-name-link"><a
                                                    href="#run()">run</a></span>()</code></th>
                                            <td class="col-last">
                                                <div class="block">Run the round robin to associate packets from the
                                                    queue with the backend.
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="alt-color" id="i2">
                                            <td class="col-first"><code>void</code></td>
                                            <th class="col-second" scope="row"><code><span class="member-name-link"><a
                                                    href="#shutdown()">shutdown</a></span>()</code></th>
                                            <td class="col-last">
                                                <div class="block">Shutdown the load balancer and all backends.</div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="inherited-list">
                                <h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
                                <code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait,
                                    wait, wait</code></div>
                        </section>
                    </li>
                </ul>
            </section>
            <section class="details">
                <ul class="details-list">
                    <!-- ============ FIELD DETAIL =========== -->
                    <li>
                        <section class="field-details" id="field.detail">
                            <h2>Field Details</h2>
                            <ul class="member-list">
                                <li>
                                    <section class="detail" id="packets">
                                        <h3>packets</h3>
                                        <div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span
                                                class="return-type">java.util.concurrent.LinkedBlockingQueue&lt;<a
                                                href="../../model/Packet.html"
                                                title="class in model">Packet</a>&gt;</span>&nbsp;<span
                                                class="member-name">packets</span></div>
                                        <div class="block">Blocking queue of packets to prevent the frontend from
                                            waiting on the load balancer.
                                            LinkedBlockingQueue is thread-safe, "BlockingQueue implementations are
                                            thread-safe. All queuing methods achieve their effects atomically using
                                            internal locks or other forms of concurrency control."
                                        </div>
                                        <dl class="notes">
                                            <dt>See Also:</dt>
                                            <dd><code>BlockingQueue</code></dd>
                                        </dl>
                                    </section>
                                </li>
                                <li>
                                    <section class="detail" id="backends">
                                        <h3>backends</h3>
                                        <div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span
                                                class="return-type">java.util.Queue&lt;<a href="Backend.html"
                                                                                          title="class in actor.intermediate">Backend</a>&gt;</span>&nbsp;<span
                                                class="member-name">backends</span></div>
                                        <div class="block">The queue of backends for the round robin. This is not a
                                            thread-safe queue.
                                        </div>
                                    </section>
                                </li>
                                <li>
                                    <section class="detail" id="run">
                                        <h3>run</h3>
                                        <div class="member-signature"><span class="modifiers">private</span>&nbsp;<span
                                                class="return-type">boolean</span>&nbsp;<span
                                                class="member-name">run</span></div>
                                        <div class="block">If the load balancer is running.</div>
                                    </section>
                                </li>
                            </ul>
                        </section>
                    </li>
                    <!-- ========= CONSTRUCTOR DETAIL ======== -->
                    <li>
                        <section class="constructor-details" id="constructor.detail">
                            <h2>Constructor Details</h2>
                            <ul class="member-list">
                                <li>
                                    <section class="detail" id="&lt;init&gt;(java.util.Set)">
                                        <h3>LoadBalancer</h3>
                                        <div class="member-signature"><span class="modifiers">public</span>&nbsp;<span
                                                class="member-name">LoadBalancer</span>&#8203;(<span class="parameters">java.util.Set&lt;<a
                                                href="Backend.html" title="class in actor.intermediate">Backend</a>&gt;&nbsp;backends)</span>
                                        </div>
                                        <div class="block">Constructor for the load balancer. There is no way to update
                                            the list of backends, after the construction, for performance and simplicity
                                            reasons. THis is because the backends are stored in a non-thread safe queue.
                                        </div>
                                        <dl class="notes">
                                            <dt>Parameters:</dt>
                                            <dd><code>backends</code> - The backends in charge of handling the requests.
                                            </dd>
                                        </dl>
                                    </section>
                                </li>
                            </ul>
                        </section>
                    </li>
                    <!-- ============ METHOD DETAIL ========== -->
                    <li>
                        <section class="method-details" id="method.detail">
                            <h2>Method Details</h2>
                            <ul class="member-list">
                                <li>
                                    <section class="detail" id="add(model.Packet)">
                                        <h3>add</h3>
                                        <div class="member-signature"><span class="modifiers">public</span>&nbsp;<span
                                                class="return-type">void</span>&nbsp;<span
                                                class="member-name">add</span>&#8203;(<span class="parameters"><a
                                                href="../../model/Packet.html" title="class in model">Packet</a>&nbsp;packet)</span>
                                        </div>
                                        <div class="block">Add a request to the queue.</div>
                                        <dl class="notes">
                                            <dt>Parameters:</dt>
                                            <dd><code>packet</code> - The simple udp packet.</dd>
                                        </dl>
                                    </section>
                                </li>
                                <li>
                                    <section class="detail" id="shutdown()">
                                        <h3>shutdown</h3>
                                        <div class="member-signature"><span class="modifiers">public</span>&nbsp;<span
                                                class="return-type">void</span>&nbsp;<span
                                                class="member-name">shutdown</span>()
                                        </div>
                                        <div class="block">Shutdown the load balancer and all backends.</div>
                                    </section>
                                </li>
                                <li>
                                    <section class="detail" id="run()">
                                        <h3>run</h3>
                                        <div class="member-signature"><span class="modifiers">public</span>&nbsp;<span
                                                class="return-type">void</span>&nbsp;<span
                                                class="member-name">run</span>()
                                        </div>
                                        <div class="block">Run the round robin to associate packets from the queue with
                                            the backend.
                                            Theoretically it is possible to modify this code to run multiple times, in
                                            separate threads, for the same load balancer, but it is questionable if that
                                            would increase performance because of the shared queue.
                                        </div>
                                        <dl class="notes">
                                            <dt>Specified by:</dt>
                                            <dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code>
                                            </dd>
                                        </dl>
                                    </section>
                                </li>
                            </ul>
                        </section>
                    </li>
                </ul>
            </section>
            <!-- ========= END OF CLASS DATA ========= -->
        </main>
        <footer role="contentinfo">
            <nav role="navigation">
                <!-- ======= START OF BOTTOM NAVBAR ====== -->
                <div class="bottom-nav" id="navbar.bottom">
                    <div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation
                        links</a></div>
                    <ul class="nav-list" id="navbar.bottom.firstrow" title="Navigation">
                        <li><a href="../../index.html">Overview</a></li>
                        <li><a href="package-summary.html">Package</a></li>
                        <li class="nav-bar-cell1-rev">Class</li>
                        <li><a href="package-tree.html">Tree</a></li>
                        <li><a href="../../deprecated-list.html">Deprecated</a></li>
                        <li><a href="../../index-files/index-1.html">Index</a></li>
                        <li><a href="../../help-doc.html">Help</a></li>
                    </ul>
                </div>
                <div class="sub-nav">
                    <div>
                        <ul class="sub-nav-list">
                            <li>Summary:&nbsp;</li>
                            <li>Nested&nbsp;|&nbsp;</li>
                            <li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
                            <li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
                            <li><a href="#method.summary">Method</a></li>
                        </ul>
                        <ul class="sub-nav-list">
                            <li>Detail:&nbsp;</li>
                            <li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
                            <li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
                            <li><a href="#method.detail">Method</a></li>
                        </ul>
                    </div>
                </div>
                <!-- ======== END OF BOTTOM NAVBAR ======= -->
                <span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
        </footer>
    </div>
</div>
</body>
</html>
